/ layouts/_head

meta charset='utf-8'

/ dns prefetch
/   (via http://html5boilerplate.com/docs/DNS-Prefetching/)
link rel="dns-prefetch" href="//ajax.googleapis.com"
link rel="dns-prefetch" href="//www.google-analytics.com"
link rel="dns-prefetch" href="//google-analytics.com"
link rel="dns-prefetch" href="//github.com"
link rel="dns-prefetch" href="https://github.com"

/ title and description
- title = yield :title
title = title.present? ? title : "Knight.io - Github's finest repos; since 2012"
meta name='description' content=''
meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'
meta name='viewport' content='width=device-width'
/ favicon
/ IE uses favicon.ico in root
/ Browsers use favicon.png
/ iOS and Android look for filenames
link rel='icon' href=image_path('favicon/favicon.png') type='image/png'

/ author credits in humans.txt
link rel='author' href='/humans.txt'

/ stylesheets
= stylesheet_link_tag 'application'

/ javascripts
/ jquery
= javascript_include_tag '//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js'

/ knight head
= javascript_include_tag 'application_head'
/ knight body
= javascript_include_tag 'application_body'

/ csrf meta tags
= csrf_meta_tags unless response.cache_control[:public]

/ google analytics
- if Rails.env.production?
  javascript:
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33644736-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

/ timeago in head
javascript:
  jQuery(document).ready(function() {
   $('abbr.timeago').timeago();
  });
