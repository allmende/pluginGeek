// Experiments in SASS
//
// Our very own variables
$body-fonts: 'proxima-nova', Arial, 'Helvetica Neue', Helvetica, sans-serif
$text: #393939            // primary text
$text-secondary: #7f7f7f  // muted, secondary text
$radius: 3px              // border radii

// Colors from the Owl Geek
$blue: #126E9D
$green: #93CF29

// Color assignments
$primary: $blue
$secondary: $green

$border-primary: $primary
$border-secondary: $secondary
$border-tertiary: #ccc

$services-background: lighten($secondary, 32%)

// Colors hightlighting a project's last updated at activity
$very-high-activity: darken($green, 8%)
$high-activity: $text-secondary
$medium-activity: $text-secondary
$low-activity: $text-secondary
$very-low-activity: $text-secondary

// Grid settings
//
// $column: 90px        // The width of a single column in px or em.
// $gutter: 30px        // Space between each two columns in px or em.
// $grid-columns: 12    // Total number of columns in the base grid. Defaults to 12.
$max-width: 940px    // The maximum width of the outer container in px or em.

// Visual grid settings
//
// By setting $visual-grid to true, you can display the base grid in the background (default)
// or as an overlay. You can even change the color and opacity of the gridlines by overriding
// the default settings as detailed in the section below. Keep in mind that on Webkit, rounding
// errors in the fluid grid might result in the overlay being few pixels off.
//
// The visual grid reflects the changes applied to the grid via the new-breakpoint() mixin,
// as long as the media contexts are defined before importing Neat.
//
// $visual-grid: true            // Show the base grid when set to true. Defaults to false.
$visual-grid-color: #e9e9e9   // Visual grid color. Defaults to #EEEEEE.
// $visual-grid-index: 'front'   // If set to front, the grid is overlaid on the content.
$visual-grid-opacity: 0.4     // Visual grid opacity.

// Import grid helpers
@import 'neat'

// general
body
  padding: 0 16px // make body stay way from bowser edges
  font-family: $body-fonts
  font-size: 100%
  line-height: 1.618
  color: $text

  background: image-url('backgrounds/compressed/debut_light.png') // 5

  // Additional backgrounds
  // background: image-url('backgrounds/compressed/subtle_freckles.png') // 4
  // background: image-url('backgrounds/compressed/light_alu.png') // 3, darker
  // background: image-url('backgrounds/compressed/light_wool.png') // 2, a little too light
  // background: image-url('backgrounds/compressed/snow.png') // 2, very light, almost no structure
  // background: image-url('backgrounds/compressed/subtle_dots.png') // 2, like millimeterpapier
  // background: image-url('backgrounds/compressed/white_brick_wall.png') // 1, building blocks, a little to extreme
  // background: image-url('backgrounds/compressed/clean_textile.png') // 1
  // background: image-url('backgrounds/compressed/diagonal-noise.png') // 1, pretty dark
  // background: image-url('backgrounds/compressed/grilled.png') // -1, fishbone


// unordered lists
ul
  list-style: none
  padding: 0
  margin: 0

// links
a
  text-decoration: none
  color: $primary
  cursor: pointer
  &:link, &:hover, &:active, &:visited
    color: $primary

// for easily extendin
.link
  @extend a

// link with border on hover, and bold with active class
// TODO: Maybe Transform into a mixin
.hover-link
  border-bottom: 1px solid transparent
  &:hover
    border-color: $border-primary
    @include transition(border-color 0.1s ease-in)

// Icon / Webfont Icons
i
  margin-right: 4px

// Layout
//
// container
.container
  @include outer-container

// full twelve column span
.all-columns
  @include span-columns(12)

// Navigation
.header.container
  margin-top: 3px
  img.branding
    float: left
    width: 290px

  ul.navigation
    float: right
    position: relative
    top: 6px
    li
      display: inline-block

  .web-navigation
    margin-right: 2rem

  .mobile-navigation

.branding
  cursor: pointer

// navigation
.navigation
  // primary languages (web, mobile)
  .primary
    display: block
    padding-bottom: 3px
    border-bottom: 1px dashed $border-primary

  // secondary languages (javascript, ruby, webdesign, ios, android)
  ul.secondary
    margin-top: 3px
    li
      display: inline
      margin: 0 16px 0 0
      padding: 0 16px 0 0
      border-right: 1px solid $border-tertiary
      line-height: 1
      &:last-child
        border-right: none
        padding-right: 0
        margin-right: 0

  // link behavior
  .primary, .secondary li
    a
      @extend .hover-link
    &.active a
      font-weight: 600

// eye-catcher on landing page
.eye-catcher
  text-rendering: optimizeLegibility
  text-align: center
  // language pitch
  .primary
    font-size: 2.058rem
    .type
      font-size: 2.058rem
      font-weight: 600
  // learn more
  .secondary
    display: inline
    font-size: 1.618rem
    font-weight: 600
    @extend .hover-link

// search field spanning entire page
.search
  width: 100%
  padding: 10px 14px
  font-size: 1.272rem
  color: #444

  border: 3px solid #ccc
  @include box-shadow(inset 0 2px 3px black(0.05))
  border-radius: $radius

  &:focus
    outline: none
    background: #fff
    border-color: $border-primary

// sorting
.sort-list
  font-size: 0.875rem
  color: $text-secondary
  text-align: right

  // items
  a
    padding: 0
    margin: 0
    @extend .hover-link
    &.active
      font-weight: 600

  // divider in sort-list
  .divider:before
    content: "\a0or\a0"

// box
.box
  min-height: 166px

  font-size: 0.875rem
  line-height: 24px !important // all lines same height, regardless of font-size
  color: $text

  border-radius: $radius

  background-color: white(0.6) // lighten background
  //                            // (sync with primary and secondary text colors)

  @include box-shadow(0 0px 3px black(0.3))

// box spanning six columns
.half-box
  @extend .box

  // two element block grid
  @include span-columns(6)
  @include nth-omega(2n)
  @include pad()

// display all matches link / button
.show-all
  @extend .button
  text-align: center

// truncation via trunk8
.js-read-more,
.js-read-less
  cursor: pointer

// pickadate
.pickadate__button--clear::before
  content: 'x'

// formtastic changes
.formtastic
  input, textarea
    font-family: $body-fonts

  .inline-hints
    font-size: 0.875rem
    color: #555

    &:before
      content: '\2192 \a0'

// categories in overview
.categories-wrapper .category
  @extend .half-box
  // background-color: black(0.04) // a little darker than background
  background-color: rgba($primary, 0.04)

  .full-name
    display: block
  .name
    font-size: 1rem
    font-weight: 600
  .language-list,
  .stars
    float: right
    color: $text-secondary
    margin-left: 6px
  .popular-repos
    display: block
    color: $text-secondary
  .description
    display: block

// repos in overview
.repos-wrapper .repo
  @extend .half-box

  .full-name
    display: block
  .name
    font-size: 1rem
    font-weight: 600
  .owner
    color: $text-secondary
  .stars
    float: right
    margin-left: 6px
    color: $text-secondary
  .description
    display: block
  .homepage-link
    display: block
  .activity
    &:before
      content: 'Updated \2192 \a0'
      color: $text-secondary

// colors hightlighting a project's most recent timestamp on Github
.activity
  abbr
    border-bottom: none
  &.very-high
    color: $very-high-activity
  &.high
    color: $high-activity
  &.medium
    color: $medium-activity
  &.low
    color: $low-activity
  &.very-low
    color: $very-low-activity

// category details
.category-details
  font-size: 0.9375rem
  .name
    font-size: 1.618rem
    font-weight: 600
  .details
    .language-list,
    .stars
      margin-left: 1rem
      color: $text-secondary
    .edit-link
      margin-left: 1rem
  .description
    display: block

// Guides for drafting a category's descriptions
// (displayed when editing category)
.descriptions-of-repos
  table
    border: 1px solid $border-tertiary
    th, td
      padding: 0.2em 0.4rem
      border-right: 1px solid $border-tertiary
      text-align: left
    tr:nth-child(odd)
      background: #e9e9e9
  // Table cells
  .repo
    .name
      font-weight: 600
    .score
      text-align: right
      font-family: monospace
      font-size: 1rem
    .description

// repo details
.repo-details
  font-size: 0.9375rem
  .name-and-owner
    font-size: 1.618rem
    font-weight: 600
    i
      margin-right: 9px
    .name
    .owner
      font-weight: 400
  .details
    > *
      margin-left: 1rem // settled after careful experimentation :-D
    .stars
      color: $text-secondary
    .star-on-github-link
      position: relative
      top: 4px
      padding-left: 1px // right one added by iframe width
    .edit-link
  .description
    display: block
  .homepage-url
  .activity
    margin-left: 1rem

// headers at repo-details
.section-header
  margin-top: 1.618rem
  margin-bottom: 4px

  font-size: 0.875rem
  color: $text-secondary

  .primary
    font-size: 1.272rem
    color: #333
    margin-left: 0
  > *
    margin-left: 0.5rem
  .sort-list
    display: inline
    float: right

// readme at repo-details
.readme-wrapper
  @extend .box
  @include pad()

.readme
  display: block
  overflow: hidden

.readme-max-height
  max-height: 380px

.readme-auto-height
  height: auto

.toggle-readme
  float: left
  margin-top: 0.5rem

// current-user details for the logged in user, only displays then
.current-user
  font-size: 0.875rem
  line-height: 32px

  .happy-day
    float: left
    color: $text-secondary

  // wrapper for user details
  .avatar-and-name
    float: right
    img.avatar
      $avatar-size: 32px
      width: $avatar-size
      height: $avatar-size
      border-radius: 100px
      vertical-align: middle

    .name
      margin: 0 12px 0 6px

  .logout
    float: right

// headline in all views
.headline
  display: block
  margin-top: 4px
  font-size: 2.058rem
  font-weight: 600
  line-height: 2rem

// flash messages
.flash-message
  padding: 0.4rem 0 0.35rem 1rem
  margin-bottom: 0.5rem
  border-radius: $radius
  background: lighten($primary, 50%)
  @include box-shadow(0 2px 3px black(0.22))

  cursor: pointer // close on click
  .close
    float: right
    padding: 0.85rem 1rem
    line-height: 0 // adjust height
    font-size: 1.272rem
    color: #999
    text-decoration: underline

// services
.services-wrapper .service
  @extend .half-box
  background: $services-background
  color: #151515

  .name
    display: block
    font-size: 1rem
    font-weight: 600

  .url
    display: block

  .pitch
    display: block

// add new repo
.add-repo-wrapper
  .name-and-owner
    font-size: 1.618rem
    font-weight: 600
    i
      margin-right: 9px

// buttons
.button
  padding: 0.4rem 1rem !important // imp to override button
  background: $primary
  color: #f9f9f9 !important // overrides link color
  cursor: pointer
  font-weight: 400

  border: none !important // override 'button' element border
  border-radius: $radius
  @include box-shadow(0 1px 2px black(0.2))

  &:hover
    background: lighten($primary, 5%)

  &.large
    padding: 0.6rem 1.2rem !important // imp to override button
    font-size: 1.272rem

  // button while loading
  &[disabled], &.disabled
    background: #c5c5c5

// secondary footer
@import "compass/layout/sticky-footer"
@include sticky-footer(248px, "#root", "#root_footer", "#footer")

$footer-spacing: 8px
$footer-borders: 1px dashed #999

.footer
  margin-top: 24px
  border-top: $footer-borders
  padding-top: 12px

  font-size: 0.875rem

  // links in footer
  ul.links
    float: left
    li
      display: inline
      padding-right: $footer-spacing
      margin-right: $footer-spacing
      border-right: $footer-borders
      &:last-of-type
        border-right: none

  // greeting and maker's name in footer
  .greeting
    float: right
    span
      padding-left: $footer-spacing
      margin-left: $footer-spacing
      border-left: $footer-borders
      &:first-of-type
        border-left: none

// decorative text left line
.left-line
  margin-left: -1rem
  padding-left: 1rem
  border-left: 2px solid $primary
  line-height: 1.45

.right
  float: right

// links
.links-wrapper .link
  .title
  .author
  .date
  .edit-link
    margin-left: 0.5rem

